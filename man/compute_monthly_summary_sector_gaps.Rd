% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compute_monthly_summary_sector_gaps.R
\name{compute_monthly_summary_sector_gaps}
\alias{compute_monthly_summary_sector_gaps}
\title{Compute Monthly Summary of Sector Response Gaps}
\arguments{
\item{alerts_responses_data}{A \code{data.frame} containing alert and response data.}

\item{prev_period_date}{A \code{Date} object indicating the start of the period to analyze.}

\item{current_period_date}{A \code{Date} object indicating the end of the period to analyze.}

\item{incident_date}{A \code{string} specifying the column name in \code{alerts_responses_data} that contains the incident (alert) dates.}

\item{alert_status_col}{A \code{string} specifying the column name indicating the alert status.}

\item{valid_status}{A \code{string} specifying the status that qualifies an alert as valid.}

\item{start_response_date}{A \code{string} specifying the column name containing the start date of the response.}

\item{ind_in_need}{A \code{string} specifying the column name indicating the number of individuals in need.}

\item{response_ind_number}{A \code{string} specifying the column name indicating the number of individuals assisted in the response.}

\item{response_mapping}{A \code{list} where each element is a named vector of length 2. The first value represents the column for individuals in need (\code{need_col}), and the second value represents the column for individuals who received assistance (\code{response_col}).}
}
\value{
A \code{data.frame} summarizing:
\describe{
\item{sector_in_need}{Sector name}
\item{response_need_covered}{Total individuals in need who were assisted}
\item{response_need_notcovered}{Total individuals in need who were NOT assisted}
\item{response_need_notcovered_percent}{Percentage of individuals in need who were NOT assisted}
}
}
\description{
This function calculates the monthly summary of response gaps by sector,
identifying the number of individuals in need who received or did not receive assistance.
}
\examples{
# Example dataset
alerts_responses_data <- data.frame(
  incident_date = as.Date(c("2024-03-01", "2024-03-10", "2024-02-25", "2024-03-15", "2024-03-20")),
  alert_status_col = c("Valid", "Valid", "Valid", "Valid", "Valid"),
  start_response_date = as.Date(c("2024-03-05", "2024-03-15", NA, "2024-03-25", NA)),
  ind_in_need = c(50, 100, 80, 60, 40),
  response_ind_number = c(40, 90, 0, 50, 0),
  food_need = c(1, 0, 1, 1, 0),
  food_response = c(1, 0, 0, 0, 0),
  nfi_need = c(1, 1, 0, 1, 1),
  nfi_response = c(1, 0, 0, 1, 0)
)

# Define response mapping for sectors
response_mapping <- list(
  "Food" = c("food_need", "food_response"),
  "NFI" = c("nfi_need", "nfi_response")
)

# Define time period
prev_period_date <- as.Date("2024-03-01")
current_period_date <- as.Date("2024-04-01")
valid_status <- "Valid"

# Compute sector gaps
compute_monthly_summary_sector_gaps(
  alerts_responses_data,
  prev_period_date,
  current_period_date,
  "incident_date",
  "alert_status_col",
  valid_status,
  "start_response_date",
  "ind_in_need",
  "response_ind_number",
  response_mapping
)

}
