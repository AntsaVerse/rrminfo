% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_prev_postrrm_date.R
\name{add_prev_postrrm_date}
\alias{add_prev_postrrm_date}
\title{Add Previsional Post-RRM Response Date}
\arguments{
\item{df}{A dataframe containing alerts and response data.}

\item{rrm_started}{Column indicating whether the RRM response started (binary: 1 = Yes, 0 = No).}

\item{rrm_start_date}{Column representing the start date of the RRM response.}

\item{alert_status}{Column indicating the validation status of the alert.}

\item{valid_status}{The status value indicating a validated alert (e.g., "Validée").}

\item{incident_date}{Column representing the date of the incident.}

\item{time_alert_to_rrm}{Column representing the time between an alert and an RRM response.}
}
\value{
A dataframe with an additional column \code{prev_postrrm_date} containing the estimated Post-RRM response start date.
}
\description{
This function calculates the expected start date of the Post-RRM response.
If an RRM response has started, the post-RRM date is set to 90 days after the RRM start.
Otherwise, if the alert is validated, the estimated incident date plus the median time
between alert and RRM response (from the entire dataset) plus 90 days is used.
}
\examples{
library(dplyr)

df <- data.frame(
  uuid = c("A1", "B2", "C3"),
  rrm_number = c(1, 0, 0),
  rrm_start_date = as.Date(c("2024-01-10", NA, NA)),
  alert_status = c("Validée", "Validée", "Pending"),
  incident_date = as.Date(c("2024-01-01", "2024-02-01", "2024-03-01")),
  time_alert_to_rrm = c(10, NA, NA)
)

df <- add_prev_postrrm_date(df, "rrm_number", "rrm_start_date",
                            "alert_status", "Validée", "incident_date",
                            "time_alert_to_rrm")
print(df)
}
