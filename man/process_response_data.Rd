% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/process_response_data.R
\name{process_response_data}
\alias{process_response_data}
\title{Process and Aggregate Response Data}
\arguments{
\item{database}{A dataframe containing response data.}

\item{uuid}{The column name representing unique IDs (e.g., alert uuid).}

\item{response_actor}{Column representing the organizations providing assistance.}

\item{food_response}{Column indicating food assistance.}

\item{wash_response}{Column indicating WASH (Water, Sanitation, and Hygiene) response.}

\item{nfi_response}{Column indicating NFI (Non-Food Items) response.}

\item{shelter_response}{Column indicating shelter assistance.}

\item{health_response}{Column indicating health assistance.}

\item{protection_response}{Column indicating protection assistance.}

\item{mhm_response}{Column indicating menstrual hygiene management (MHM) assistance.}

\item{enriched_flour_response}{Column indicating fortified/enriched flour distribution.}

\item{education_response}{Column indicating education-related assistance.}

\item{livelihood_response}{Column indicating livelihood support.}

\item{hh_number}{Column representing the number of supported households.}

\item{ind_number}{Column representing the number of supported individuals.}

\item{response_start_date}{Column representing the start date of the response.}

\item{response_end_date}{Column representing the end date of the response.}

\item{response_donor}{Column representing the funding donor of the intervention.}

\item{admin1}{Column representing the first administrative level (e.g., region).}

\item{admin2}{Column representing the second administrative level (e.g., district or cercle).}
}
\value{
A cleaned and reshaped dataframe with aggregated response values.
The resulting dataset includes:
\itemize{
\item \code{uuid}: Unique ID for each response.
\item \code{response_number}: Number of interventions per UUID.
\item \code{response_actor}: Aggregated list of response actors.
\item Binary indicators (\code{food_response}, \code{wash_response}, etc.) showing whether assistance was provided.
\item \code{hh_number}: The maximum number of supported households.
\item \code{ind_number}: The maximum number of supported individuals.
\item \code{response_start_date}: The earliest recorded response start date.
\item \code{response_end_date}: The computed response end date based on \code{response_start_date} + \code{date_gap}.
\item \code{response_donor}: The donor(s) funding the response.
\item \code{admin1}: The administrative region.
\item \code{admin2}: The sub-region or district (cercle).
}
}
\description{
This function processes and reshapes response data from humanitarian interventions.
It aggregates response information at the unique ID (\code{uuid}) level and calculates summary statistics.
}
\examples{
# Sample dataset
df_rrm <- data.frame(
  id = c("A", "A", "B", "B", "C"),
  organization = c("Org1", "Org2", "Org3", NA, "Org4"),
  food_aid = c(1, 0, 1, 1, 0),
  water_sanitation = c(0, 1, 1, 0, 1),
  non_food_items = c(1, 0, 0, 1, 1),
  shelter_support = c(0, 1, 1, 0, 1),
  health_support = c(1, 0, 1, 1, 0),
  protection_services = c(0, 1, 1, 0, 1),
  menstrual_hygiene = c(1, 0, 0, 1, 1),
  fortified_flour = c(0, 1, 1, 0, 1),
  education_support = c(1, 0, 1, 1, 0),
  livelihood_support = c(0, 1, 1, 0, 1),
  households_supported = c(3, 4, 5, NA, 2),
  people_supported = c(10, 15, 20, NA, 5),
  response_start_date = as.Date(c("2024-01-10", "2024-01-15", "2024-02-01",
   "2024-02-10", "2024-03-05")),
  response_end_date = as.Date(c("2024-01-20", "2024-01-25", "2024-02-10",
   "2024-02-20", "2024-03-10")),
  donor = c("Donor1", "Donor1", "Donor2", "Donor2", "Donor3"),
  region = c("Region1", "Region1", "Region2", "Region2", "Region3"),
  cercle = c("Cercle1", "Cercle1", "Cercle2", "Cercle2", "Cercle3")
)

# Run the function
cleaned_data <- process_response_data(
  df_rrm,
  uuid = "id",
  response_actor = "organization",
  food_response = "food_aid",
  wash_response = "water_sanitation",
  nfi_response = "non_food_items",
  shelter_response = "shelter_support",
  health_response = "health_support",
  protection_response = "protection_services",
  mhm_response = "menstrual_hygiene",
  enriched_flour_response = "fortified_flour",
  education_response = "education_support",
  livelihood_response = "livelihood_support",
  hh_number = "households_supported",
  ind_number = "people_supported",
  response_start_date = "response_start_date",
  response_end_date = "response_end_date",
  response_donor = "donor",
  admin1 = "region",
  admin2 = "cercle"
)

print(cleaned_data)
}
