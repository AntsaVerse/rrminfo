% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compute_monthly_spatial_summary_gaps.R
\name{compute_monthly_spatial_summary_gaps}
\alias{compute_monthly_spatial_summary_gaps}
\title{Compute Monthly Spatial Summary of Response Gaps}
\usage{
compute_monthly_spatial_summary_gaps(
  alerts_responses_data,
  prev_period_date,
  current_period_date,
  incident_date,
  alert_status_col,
  valid_status,
  start_response_date,
  alert_ind_number,
  response_ind_number,
  admin1,
  admin2,
  admin_desag = "national"
)
}
\arguments{
\item{alerts_responses_data}{A dataframe containing alert and response data.}

\item{prev_period_date}{The start date of the previous period (Date object).}

\item{current_period_date}{The start date of the current period (Date object).}

\item{incident_date}{The column name (string) representing the incident or alert occurrence date.}

\item{alert_status_col}{The column name (string) indicating the alert validation status.}

\item{valid_status}{The value (string) in \code{alert_status_col} that indicates a valid alert.}

\item{start_response_date}{The column name (string) representing the response start date.}

\item{alert_ind_number}{The column name (string) representing the number of individuals in the alert.}

\item{response_ind_number}{The column name (string) representing the number of individuals assisted.}

\item{admin1}{The column name (string) representing the first level of administrative division (e.g., region).}

\item{admin2}{The column name (string) representing the second level of administrative division (e.g., district).}

\item{admin_desag}{A string indicating the level of disaggregation:
* \code{"national"} - Summary at the national level (aggregated by \code{admin1}).
* \code{"admin1"} - Summary at the first administrative level (aggregated by \code{admin1} and \code{admin2}).}
}
\value{
A dataframe containing:
\itemize{
\item \code{admin1}: The first administrative division.
\item \code{admin2}: The second administrative division (if \code{admin_desag = "admin1"}).
\item \code{response_ind_assisted}: Total number of individuals assisted.
\item \code{response_ind_notassisted}: Total number of individuals not assisted.
\item \code{response_ind_notassisted_percent}: Percentage of individuals not assisted.
}
}
\description{
This function computes the spatial summary of response gaps at the national or administrative level.
It analyzes validated alerts and calculates the number of individuals assisted and not assisted
in a given time period.
}
\examples{
library(dplyr)

# Example dataset
alerts_responses_data <- data.frame(
  incident_date = as.Date(c("2024-03-01", "2024-03-10", "2024-02-25",
                            "2024-03-15", "2024-03-20")),
  alert_status_col = c("Valid", "Valid", "Valid", "Valid", "Valid"),
  start_response_date = as.Date(c("2024-03-05", "2024-03-15", NA,
                                  "2024-03-25", NA)), # Some missing responses
  alert_ind_number = c(50, 100, 80, 60, 40),  # People in the alert
  response_ind_number = c(40, 90, 0, 50, 0), # Some assisted, others not
  admin1 = c("Region A", "Region A", "Region B", "Region A", "Region B"),
  admin2 = c("District 1", "District 1", "District 2", "District 3", "District 2")
)

prev_period_date <- as.Date("2024-03-01")
current_period_date <- as.Date("2024-04-01")
valid_status <- "Valid"

# Run function at the national level
compute_monthly_spatial_summary_gaps(
  alerts_responses_data,
  prev_period_date,
  current_period_date,
  "incident_date",
  "alert_status_col",
  valid_status,
  "start_response_date",
  "alert_ind_number",
  "response_ind_number",
  "admin1",
  "admin2",
  admin_desag = "national"
)

# Run function at the admin1 level
compute_monthly_spatial_summary_gaps(
  alerts_responses_data,
  prev_period_date,
  current_period_date,
  "incident_date",
  "alert_status_col",
  valid_status,
  "start_response_date",
  "alert_ind_number",
  "response_ind_number",
  "admin1",
  "admin2",
  admin_desag = "admin1"
)
}
